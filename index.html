<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>情人節快樂</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,700&family=Lora:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* Reset and Base */
        * { box-sizing: border-box; }
        body, html { 
            margin: 0; padding: 0; width: 100%; height: 100%; 
            overflow: hidden; background-color: #000; 
            font-family: 'Lora', serif; 
        }

        /* Presentation Engine */
        #presentation-wrapper { 
            width: 100%; height: 100%; 
            transition: transform 1.2s cubic-bezier(0.65, 0, 0.35, 1); 
        }

        .slide-container { 
            width: 100vw; height: 100vh; 
            position: relative;
            display: flex; 
            justify-content: center; 
            align-items: center;     
            text-align: center;
            padding: 40px;
        }

        /* Backgrounds */
        .slide-1 { background: linear-gradient(135deg, #fce4ec 0%, #f8bbd0 100%); }
        .slide-2 { background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%); }
        .slide-3 { background: linear-gradient(135deg, #e1f5fe 0%, #b3e5fc 100%); }
        .slide-4 { background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%); }

        .content-card {
            max-width: 800px;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            animation: fadeIn 1.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 { font-family: 'Playfair Display', serif; font-size: clamp(2.5rem, 8vw, 4.5rem); color: #b71c1c; margin: 0 0 15px 0; }
        h2 { font-family: 'Playfair Display', serif; font-size: clamp(2rem, 6vw, 3.5rem); color: #880e4f; margin: 0 0 15px 0; }
        p { font-size: clamp(1rem, 2.5vw, 1.4rem); color: #333; max-width: 650px; line-height: 1.6; margin: 0 auto; }

        .img-container {
            position: relative;
            margin: 25px auto;
            padding: 12px;
            background: white;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            border-radius: 2px;
            transform: rotate(-1deg);
            max-width: 85%;
        }

        .img-container img {
            display: block;
            width: 100%;
            max-height: 45vh;
            object-fit: cover;
            border: 1px solid #f0f0f0;
        }

        /* Overlay UI */
        #overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #b71c1c; color: white;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            z-index: 9999; text-align: center;
        }

        .start-btn {
            background: white; color: #b71c1c;
            padding: 18px 45px; font-size: 1.4rem; font-weight: bold;
            border: none; border-radius: 50px; cursor: pointer;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            transition: 0.3s;
            font-family: 'Playfair Display', serif;
        }
        .start-btn:hover { transform: translateY(-3px); box-shadow: 0 15px 25px rgba(0,0,0,0.3); }

        /* Unified Controller UI */
        #ui-bar {
            position: fixed; bottom: 25px; left: 50%; transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.98);
            padding: 10px 20px; border-radius: 50px;
            display: none; gap: 12px; align-items: center;
            box-shadow: 0 8px 32px rgba(0,0,0,0.15);
            z-index: 1000; border: 1px solid rgba(183, 28, 28, 0.1);
        }

        .control-group { display: flex; align-items: center; gap: 8px; }
        .divider { height: 24px; width: 1px; background: #e0e0e0; margin: 0 5px; }

        .control-btn {
            border: none; background: none; cursor: pointer;
            font-size: 0.85rem; color: #b71c1c; font-family: inherit;
            font-weight: 700; display: flex; align-items: center; gap: 6px;
            padding: 8px 14px; border-radius: 20px; transition: 0.2s;
            white-space: nowrap;
        }
        .control-btn:hover { background: #fff1f1; }
        .control-btn i { font-size: 1.1rem; }

        .music-info {
            font-size: 0.75rem; color: #666; max-width: 150px;
            overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
        }

        #progress-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 5px;
            background: rgba(255,255,255,0.2); z-index: 10000;
        }
        #progress-fill { height: 100%; width: 0%; background: #ff4081; }

        #yt-player { position: absolute; top: -1000px; left: -1000px; pointer-events: none; }
    </style>
</head>
<body>

<div id="progress-container"><div id="progress-fill"></div></div>

<div id="overlay">
    <i class="fa-solid fa-heart" style="font-size: 60px; margin-bottom: 25px; animation: pulse 2s infinite;"></i>
    <h1 style="color: white; margin-bottom: 35px;">A Valentine's Soirée</h1>
    <p style="color: rgba(255,255,255,0.8); margin-bottom: 20px;">Click below to start the visual and musical journey</p>
    <button class="start-btn" onclick="initExperience()">ENTER CELEBRATION</button>
</div>

<div id="ui-bar">
    <!-- Slide Controls -->
    <div class="control-group">
        <button onclick="toggleSlidePause()" id="slide-pause-btn" class="control-btn">
            <i class="fa-solid fa-pause"></i> <span>Slides</span>
        </button>
    </div>

    <div class="divider"></div>

    <!-- Music Controls -->
    <div class="control-group">
        <button onclick="toggleMusic()" id="music-play-btn" class="control-btn">
            <i class="fa-solid fa-circle-pause"></i> <span>Music</span>
        </button>
        <button onclick="nextTrack()" class="control-btn" style="padding: 8px;">
            <i class="fa-solid fa-forward-step"></i>
        </button>
        <div class="music-info" id="music-status">80s Love Hits...</div>
    </div>
</div>

<div id="yt-player"></div>

<div id="presentation-wrapper">
    <div class="slide-container slide-1">
        <div class="content-card">
            <h1>Leo & Linda</h1>
            <p>Welcome to our 2026 Celebration. A night dedicated to the timeless power of love and music.</p>
            <div class="img-container">
                <img src="Leo&Linda.jpeg" alt="Flowers">
            </div>
        </div>
    </div>
    <div class="slide-container slide-2">
        <div class="content-card">
            <h2>Leo & Linda</h2>
            <p>Tonight we journey back to the decade of neon hearts and classic love songs.</p>
            <div class="img-container" style="transform: rotate(1deg);">
                <img src="Leo&Linda.jpeg2.jpeg" alt="Cassette">
            </div>
        </div>
    </div>
    <div class="slide-container slide-3">
        <div class="content-card">
            <h2>To Our 20 Couples</h2>
            <p>Each of your stories is a unique melody in our celebration. Thank you for being the heart of this event.</p>
            <div class="img-container">
                <img src="https://images.unsplash.com/photo-1516589174184-c6852657d48d?q=80&w=1200" alt="Hand holding">
            </div>
        </div>
    </div>
    <div class="slide-container slide-4">
        <div class="content-card">
            <h1>Always & Forever</h1>
            <p>May your love continue to grow stronger with every passing melody.</p>
            <i class="fa-solid fa-heart" style="font-size: 80px; color: #ff4081; margin-top: 30px;"></i>
        </div>
    </div>
</div>

<script>
    let player;
    let isExperienceStarted = false;
    let currentSlide = 0;
    let progress = 0;
    const duration = 12000; // 12 seconds per slide
    let slidesPaused = false;
    let musicPaused = false;
    const totalSlides = 4;
    let lastTick = 0;

    // Load YouTube API
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    function onYouTubeIframeAPIReady() {
        player = new YT.Player('yt-player', {
            height: '1',
            width: '1',
            playerVars: {
                'listType': 'playlist',
                'list': 'dpqBlhTFjc4&list=PLbheNVuTUDXt4yMnFZXZBAk_AjAf8w8CX', // Extracting the list ID from your provided URL
                'index': 0,
                'autoplay': 0,
                'controls': 0
            },
            events: {
                'onReady': onPlayerReady,
                'onStateChange': onPlayerStateChange
            }
        });
    }

    function onPlayerReady(event) {
        // Ready but not playing until user clicks Start
    }

    function onPlayerStateChange(event) {
        const status = document.getElementById('music-status');
        if (event.data == YT.PlayerState.PLAYING) {
            status.innerText = "Playing Radio...";
            updateMusicUI(false);
        } else if (event.data == YT.PlayerState.PAUSED) {
            status.innerText = "Music Paused";
            updateMusicUI(true);
        }
    }

    function initExperience() {
        isExperienceStarted = true;
        document.getElementById('overlay').style.display = 'none';
        document.getElementById('ui-bar').style.display = 'flex';
        
        // Start Music
        if (player && player.playVideo) {
            player.playVideo();
        }

        lastTick = Date.now();
        requestAnimationFrame(slideLoop);
    }

    function slideLoop() {
        if (!isExperienceStarted) return;

        const now = Date.now();
        const delta = now - lastTick;
        lastTick = now;

        if (!slidesPaused) {
            progress += delta;
            const percent = (progress / duration) * 100;
            document.getElementById('progress-fill').style.width = Math.min(percent, 100) + '%';

            if (progress >= duration) {
                progress = 0;
                currentSlide = (currentSlide + 1) % totalSlides;
                document.getElementById('presentation-wrapper').style.transform = `translateY(-${currentSlide * 100}vh)`;
            }
        }

        requestAnimationFrame(slideLoop);
    }

    // Controls Logic
    function toggleSlidePause() {
        slidesPaused = !slidesPaused;
        const btn = document.getElementById('slide-pause-btn');
        btn.innerHTML = slidesPaused ? 
            '<i class="fa-solid fa-play"></i> <span>Slides</span>' : 
            '<i class="fa-solid fa-pause"></i> <span>Slides</span>';
    }

    function toggleMusic() {
        if (!player) return;
        const state = player.getPlayerState();
        if (state == YT.PlayerState.PLAYING) {
            player.pauseVideo();
        } else {
            player.playVideo();
        }
    }

    function updateMusicUI(isPaused) {
        const btn = document.getElementById('music-play-btn');
        btn.innerHTML = isPaused ? 
            '<i class="fa-solid fa-circle-play"></i> <span>Music</span>' : 
            '<i class="fa-solid fa-circle-pause"></i> <span>Music</span>';
    }

    function nextTrack() {
        if (player && player.nextVideo) {
            player.nextVideo();
        }
    }
</script>

<style>
    @keyframes pulse {
        0%, 100% { transform: scale(1); opacity: 1; }
        50% { transform: scale(1.1); opacity: 0.7; }
    }
</style>

</body>
</html>




