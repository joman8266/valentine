<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>中西合璧浪漫情人節晚會</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,700&family=Lora:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* Reset and Base */
        * { box-sizing: border-box; }
        body, html { 
            margin: 0; padding: 0; width: 100%; height: 100%; 
            overflow: hidden; background-color: #000; 
            font-family: 'Lora', serif; 
        }

        /* Presentation Engine */
        #presentation-wrapper { 
            width: 100%; height: 100%; 
            transition: transform 1.2s cubic-bezier(0.65, 0, 0.35, 1); 
        }

        .slide-container { 
            width: 100vw; height: 100vh; 
            position: relative;
            display: flex; 
            justify-content: center; 
            align-items: center;     
            text-align: center;
            padding: 20px;
        }

        /* Background Colors (Cycling) */
        .bg-1 { background: linear-gradient(135deg, #fce4ec 0%, #f8bbd0 100%); }
        .bg-2 { background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%); }
        .bg-3 { background: linear-gradient(135deg, #e1f5fe 0%, #b3e5fc 100%); }
        .bg-4 { background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%); }

        .content-card {
            max-width: 1000px;
            width: 100%;
            height: 90vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            animation: fadeIn 1.2s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        h1 { font-family: 'Playfair Display', serif; font-size: clamp(2rem, 6vw, 4rem); color: #b71c1c; margin: 0 0 10px 0; }
        p { font-size: clamp(1rem, 2vw, 1.2rem); color: #333; max-width: 800px; line-height: 1.4; margin: 0 auto; }

        /* Larger Image Container */
        .img-container {
            position: relative;
            margin: 15px auto;
            padding: 15px;
            background: white;
            box-shadow: 0 20px 50px rgba(0,0,0,0.2);
            border-radius: 4px;
            width: 90%;
            max-width: 850px;
            height: 65vh; /* Larger vertical space for photos */
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .img-container img {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: contain; /* Ensures the whole photo is visible */
            border: 1px solid #eee;
        }

        /* Overlay UI */
        #overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #b71c1c; color: white;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            z-index: 9999; text-align: center;
        }

        .start-btn {
            background: white; color: #b71c1c;
            padding: 18px 45px; font-size: 1.4rem; font-weight: bold;
            border: none; border-radius: 50px; cursor: pointer;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            transition: 0.3s;
            font-family: 'Playfair Display', serif;
        }
        .start-btn:hover { transform: translateY(-3px); box-shadow: 0 15px 25px rgba(0,0,0,0.3); }

        /* UI Bar */
        #ui-bar {
            position: fixed; bottom: 25px; left: 50%; transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 8px 20px; border-radius: 50px;
            display: none; gap: 12px; align-items: center;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
            z-index: 1000; border: 1px solid rgba(183, 28, 28, 0.1);
        }

        .control-group { display: flex; align-items: center; gap: 5px; }
        .divider { height: 20px; width: 1px; background: #ddd; margin: 0 5px; }

        .control-btn {
            border: none; background: none; cursor: pointer;
            font-size: 0.85rem; color: #b71c1c; font-family: inherit;
            font-weight: 700; display: flex; align-items: center; gap: 6px;
            padding: 8px 12px; border-radius: 20px; transition: 0.2s;
        }
        .control-btn:hover { background: #fff1f1; }

        .music-label { font-size: 0.7rem; color: #666; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; }

        #progress-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 4px;
            background: rgba(255,255,255,0.1); z-index: 10000;
        }
        #progress-fill { height: 100%; width: 0%; background: #ff4081; transition: width 0.1s linear; }
    </style>
</head>
<body>

<div id="progress-container"><div id="progress-fill"></div></div>

<div id="overlay">
    <i class="fa-solid fa-heart" style="font-size: 60px; margin-bottom: 25px; animation: pulse 2s infinite;"></i>
    <h1 style="color: white; margin-bottom: 10px;">中西合璧浪漫情人節晚會</h1>
    <p style="color: rgba(255,255,255,0.8); margin-bottom: 30px;">信望愛Agape夫婦小組</p>
    <button class="start-btn" onclick="initExperience()">開始播放</button>
</div>

<!-- Native Audio Player (Hidden) -->
<audio id="bg-music" loop>
    <!-- REPLACE THIS URL WITH YOUR RAW GITHUB MP3 LINK -->
    <source src="https://raw.githubusercontent.com/YOUR_USERNAME/YOUR_REPO/main/your_music_file.mp3" type="audio/mpeg">
</audio>

<div id="ui-bar">
    <div class="control-group">
        <button onclick="toggleSlidePause()" id="slide-pause-btn" class="control-btn">
            <i class="fa-solid fa-pause"></i> <span>相片</span>
        </button>
    </div>
    <div class="divider"></div>
    <div class="control-group">
        <span class="music-label">音樂</span>
        <button onclick="toggleMusic()" id="music-toggle-btn" class="control-btn">
            <i class="fa-solid fa-circle-pause"></i>
        </button>
    </div>
</div>

<div id="presentation-wrapper">
    <!-- Slides will be injected here by JavaScript -->
</div>

<script>
    // 1. CONFIGURE YOUR COUPLES HERE
    // Just add/edit entries in this array. I've prepared 30 slots.
    const couples = [
        { name: "山哥&Candy", img: "山哥&Candy.jpeg", msg: "A night dedicated to the timeless power of love." },
        { name: "Sum&Nancy", img: "Sum&Nancy.jpeg", msg: "Journeying together through the melody of life." },
        { name: "Fred&Helen", img: "Fred&Helen.jpg", msg: "Love is the greatest gift of all." },
        { name: "Rachel&Francis", img: "Rachel&Francis", msg: "Building a beautiful future together." },
        { name: "Philip&Polly", img: "couple5.jpg", msg: "Forever and always." },
        { name: "馬生&馬太", img: "couple6.jpg", msg: "Grace and Love." },
        { name: "Kwok&Dale", img: "Kwok&Dale.jpg", msg: "Shared moments, lasting memories." },
        { name: "Stephen&Julianne", img: "couple8.jpg", msg: "Strength in unity." },
        { name: "Lucy&Paul", img: "couple9.jpg", msg: "A blessing to each other." },
        { name: "安哥&River", img: "couple10.jpg", msg: "Heart to heart." },
        { name: "波哥&波嬸", img: "couple11.jpg", msg: "Endless love." },
        { name: "Ray&Mona", img: "Ray&Mona.jpg", msg: "Joy in every step." },
        { name: "Sam&Irene", img: "Sam&Irene.jpg", msg: "Together in faith." },
        { name: "Winston&Wendy", img: "couple14.jpg", msg: "A beautiful journey." },
        { name: "Brandon&Flora", img: "couple15.jpg", msg: "True companionship." },
        { name: "Hong&Sandy", img: "Sandy&Hong.jpg", msg: "Kindness and devotion." },
        { name: "祥哥&珍姐", img: "couple17.jpg", msg: "Woven together by love." },
        { name: "Sam&Amy", img: "couple18.jpg", msg: "Patient and kind." },
        { name: "Owen&WaiWai", img: "couple19.jpg", msg: "Laughter and life." },
        { name: "Gabriel&Van", img: "Gabriel&Van.jpg", msg: "The heart of our group." },
        { name: "邱牧師&邱師母", img: "couple21.jpg", msg: "Devoted hearts." },
        { name: "Nick&Dakki", img: "couple22.jpg", msg: "Purest affection." },
        { name: "龍牧師&龍師母", img: "couple23.jpg", msg: "Hand in hand." },
        { name: "Benny&Vivian", img: "Benny&Vivian.jpg", msg: "Radiant love." },
        { name: "Leo&Linda", img: "Leo&Linda.jpg", msg: "Walking in light." },
        { name: "Couple 26", img: "couple26.jpg", msg: "Soulmates forever." },
        { name: "Couple 27", img: "couple27.jpg", msg: "Deeply connected." },
        { name: "Couple 28", img: "couple28.jpg", msg: "Boundless joy." },
        { name: "Couple 29", img: "couple29.jpg", msg: "Treasured bond." },
        { name: "Couple 30", img: "couple30.jpg", msg: "Always and Forever." }
    ];

    let currentSlide = 0;
    let progress = 0;
    const duration = 10000; // 10 seconds per slide
    let slidesPaused = false;
    let lastTick = 0;
    const audio = document.getElementById('bg-music');

    // Generate Slides Dynamically
    const wrapper = document.getElementById('presentation-wrapper');
    couples.forEach((couple, index) => {
        const bgNum = (index % 4) + 1;
        const slide = document.createElement('div');
        slide.className = `slide-container bg-${bgNum}`;
        slide.innerHTML = `
            <div class="content-card">
                <h1>${couple.name}</h1>
                <p>${couple.msg}</p>
                <div class="img-container">
                    <img src="${couple.img}" alt="${couple.name}" onerror="this.src='https://images.unsplash.com/photo-1518199266791-5375a83190b7?q=80&w=800&auto=format&fit=crop'">
                </div>
            </div>
        `;
        wrapper.appendChild(slide);
    });

    function initExperience() {
        document.getElementById('overlay').style.display = 'none';
        document.getElementById('ui-bar').style.display = 'flex';
        
        // Start Music
        audio.play().catch(e => console.log("Audio play blocked: ", e));
        
        lastTick = Date.now();
        requestAnimationFrame(slideLoop);
    }

    function slideLoop() {
        const now = Date.now();
        const delta = now - lastTick;
        lastTick = now;

        if (!slidesPaused) {
            progress += delta;
            const percent = (progress / duration) * 100;
            document.getElementById('progress-fill').style.width = Math.min(percent, 100) + '%';

            if (progress >= duration) {
                progress = 0;
                // Infinite Loop: % couples.length ensures it goes back to 0 at the end
                currentSlide = (currentSlide + 1) % couples.length;
                wrapper.style.transform = `translateY(-${currentSlide * 100}vh)`;
            }
        }

        requestAnimationFrame(slideLoop);
    }

    function toggleSlidePause() {
        slidesPaused = !slidesPaused;
        const btn = document.getElementById('slide-pause-btn');
        btn.innerHTML = slidesPaused ? 
            '<i class="fa-solid fa-play"></i> <span>幻燈片</span>' : 
            '<i class="fa-solid fa-pause"></i> <span>幻燈片</span>';
    }

    function toggleMusic() {
        const btn = document.getElementById('music-toggle-btn');
        if (audio.paused) {
            audio.play();
            btn.innerHTML = '<i class="fa-solid fa-circle-pause"></i>';
        } else {
            audio.pause();
            btn.innerHTML = '<i class="fa-solid fa-circle-play"></i>';
        }
    }
</script>

<style>
    @keyframes pulse {
        0%, 100% { transform: scale(1); opacity: 1; }
        50% { transform: scale(1.1); opacity: 0.7; }
    }
</style>

</body>
</html>

